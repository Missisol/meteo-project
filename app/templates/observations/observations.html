{% extends 'base.html' %}
{% set title='Наблюдения'  %}

{% block head %}
  {{ super() }}
  <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css')}}" />
  <link rel="stylesheet" href="{{ url_for('static', filename='css/table.css')}}" />
  <link rel="stylesheet" href="{{ url_for('static', filename='css/form.css')}}" />
{% endblock %}


{% block content %}
<div class="observations">
  <h1 class="page-title">{{ title }}</h1>
  <div class="controls">
    <button type="button" class="button button--blue" id="create-button">Добавить наоблюдение</button>
    <button type="button" class="button button--blue" id="filter-button">Задать период</button>
    {% if start_date and end_date %}
    <a href="{{ request.path }}" class="button button--invert">Сбросить фильтр</a>
    {% else %}
    <button class="button button--invert disabled">Сбросить фильтр</button>
    {% endif %}
  </div>
  <div id="popover-flash" class="popover" popover>
    {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
        {% for category, message in messages %}
        <div class="alert alert-info {{ category }}" role="alert">{{ message }}</div>
        {% endfor %}
    {% endif %}
    {% endwith %}
  </div>
  {% include 'observations/observations_table.html' %}
  {% include 'observations/create_modal.html' %}
  {% include 'observations/edit_modal.html' %}
  {% include 'observations/delete_modal.html' %}
  {% include 'includes/filter_modal.html' %}
</div>
{% endblock %}

{% block script %}
  {{ super() }}
  <script src="{{ url_for('static', filename='js/observations.js') }}"></script>
  <script src="{{ url_for('static', filename='js/modal.js') }}"></script>
{% endblock %}